<h1 align='center'>vitesse-lite-py</h1>

<p align='center'>
Mocking up web app with <b>vitesse-lite</b><sup><em>(smaller)</em></sup><br>
</p>

<br>


<br>

<p align='center'>
<b>ç®€ä½“ä¸­æ–‡</b> | <a href="">English</a>
<!-- Contributors: Thanks for getting interested, however we DON'T accept new transitions to the README, thanks. -->
</p>

<br>

## ä»‹ç»

### ğŸ‘€ `vitesse-lite-py`

- vitesse-lite-py å¸®åŠ©æ‚¨æ„å»º windowsã€macosã€linux å¹³å°å®¢æˆ·ç«¯çš„åº”ç”¨ï¼Œä¸å†å—pyqtçš„å›°æ‰°ã€‚
- vitesse-lite-py çš„è§†å›¾å±‚é‡‡ç”¨ HTML+JS+CSSï¼Œä¸šåŠ¡å±‚é‡‡ç”¨æœ¬åœ° Pythonï¼Œå¼€å‘è€…æ— éœ€å…³æ³¨å‰åç«¯è¿æ¥ï¼Œåªéœ€å…³æ³¨è§†å›¾æ•ˆæœå’Œä¸šåŠ¡é€»è¾‘æœ¬èº«ã€‚
- vitesse-lite-py é‡‡ç”¨äº† Vite çš„å¼€å‘æ¨¡å¼ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œå¼€å‘ä½“éªŒæ›´ä½³ã€‚
- vitesse-lite-py é‡‡ç”¨äº† PyInstaller æ‰“åŒ…ï¼Œæ‰“åŒ…ä½“ç§¯æ›´å°ã€‚
- vitesse-lite-py é‡‡ç”¨äº† pywebview ä½œä¸ºæ¸²æŸ“å¼•æ“ï¼Œæ¸²æŸ“é€Ÿåº¦æ›´å¿«ã€‚
- vitesse-lite-py é‡‡ç”¨äº† Vue3ã€Vitesse-lite ä½œä¸ºå‰ç«¯æ¡†æ¶ï¼Œä»£ç ç¼–å†™æ›´ä¼˜é›…ä»å®¹ã€‚
- vitesse-lite-py é‡‡ç”¨äº† Python ç¼–ç¨‹è¯­è¨€å¼€å‘ä¸šåŠ¡å±‚ï¼Œæ¨¡å—ä¸°å¯Œã€‚

### ğŸ“¦ é€‚ç”¨åœºæ™¯

- å¯¹è½¯ä»¶çš„ç”¨æˆ·ç•Œé¢æœ‰ä¸€å®šç¾æ„Ÿè¦æ±‚
- éœ€è¦ç”¨åˆ° Python ä¸­çš„äººå·¥æ™ºèƒ½ç­‰æ¨¡å—
- è€ƒè™‘æ­å»ºæœ¬åœ°åº”ç”¨ï¼Œä½¿ç”¨æœ¬æœºè®¡ç®—å’Œå­˜å‚¨èµ„æº
- å¯¹è½¯ä»¶åŠŸèƒ½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œéœ€è¦è‡ªå·±å¼€å‘

### ğŸ‘¨â€ğŸ’» é€‚ç”¨äººç¾¤

- ç†Ÿæ‚‰ Vue3 å’Œ Python ç¼–ç¨‹çš„ç¨‹åºå‘˜ã€‚
- ç†Ÿæ‚‰ HTMLã€CSSã€JS çš„å‰ç«¯å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„æ•°æ®åˆ†æå¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„äººå·¥æ™ºèƒ½å·¥ç¨‹å¸ˆã€‚
- ç†Ÿæ‚‰ Python çš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚

### ä½¿ç”¨è¦æ±‚

- npm 8.0+
- Python 3.6-3.8

## ç‰¹æ€§

- âš¡ï¸ [Vue 3](https://github.com/vuejs/core), [Vite 3](https://github.com/vitejs/vite), [npm](https://npm.io/), [ESBuild](https://github.com/evanw/esbuild) - born with fastness

- ğŸ—‚ [File based routing](./src/pages)

- ğŸ“¦ [Components auto importing](./src/components)

- ğŸ¨ [UnoCSS](https://github.com/antfu/unocss) - The instant on-demand atomic CSS engine.

- ğŸ˜ƒ Use icons from any icon sets in [Pure CSS](https://github.com/antfu/unocss/tree/main/packages/preset-icons)

- ğŸ”¥ Use the [new `<script setup>` style](https://github.com/vuejs/rfcs/pull/227)

- âœ… Use [Vitest](http://vitest.dev/) for unit and components testing

- ğŸ¦¾ TypeScript, of course


<br>

## å°è¯•

```bash

### GitHub Template

[Create a repo from this template on GitHub](https://github.com/MarleneJiang/vitesse-lite-py).

### Clone to local

If you prefer to do it manually with the cleaner git history

```bash
git clone https://github.com/MarleneJiang/vitesse-lite-py.git
cd vitesse-lite-py
npm i
```

## ä½¿ç”¨

```
# å¼€å‘æ¨¡å¼
npm run start

# å¼€å‘æ¨¡å¼ï¼Œcefå…¼å®¹æ¨¡å¼ã€ä»…winç³»ç»Ÿã€‘
npm run start:cef

# é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œæ–¹ä¾¿è¾“å‡ºæ—¥å¿—ä¿¡æ¯
npm run pre

# é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œcefå…¼å®¹æ¨¡å¼ã€ä»…winç³»ç»Ÿã€‘
npm run pre:cef

# é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ã€ä»…winç³»ç»Ÿã€‘
npm run pre:folder

# é¢„æ‰“åŒ…ï¼Œå¸¦consoleï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ï¼Œcefå…¼å®¹æ¨¡å¼ã€ä»…winç³»ç»Ÿã€‘
npm run pre:folder:cef


# æ­£å¼æ‰“åŒ…
npm run build

# æ­£å¼æ‰“åŒ…ï¼Œcefå…¼å®¹æ¨¡å¼ã€ä»…winç³»ç»Ÿã€‘
npm run build:cef

# æ­£å¼æ‰“åŒ…ï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ã€ä»…winç³»ç»Ÿã€‘
npm run build:folder

# æ­£å¼æ‰“åŒ…ï¼Œç”Ÿæˆæ–‡ä»¶å¤¹ï¼Œcefå…¼å®¹æ¨¡å¼ã€ä»…winç³»ç»Ÿã€‘
npm run build:folder:cef
```


## é«˜çº§ç”¨æ³•

### å®¢æˆ·ç«¯å¼•æ“ä»‹ç»

`vitesse-lite-py` åŸºäº [pywebview](https://pywebview.flowrl.com) æ„å»ºå®¢æˆ·ç«¯ã€‚è€Œ pywebview æ„æ¶æ„å»ºå®¢æˆ·ç«¯çš„åŸç†æ˜¯åˆ©ç”¨æœ¬åœ°ç”µè„‘è‡ªå¸¦çš„æµè§ˆå™¨å¼•æ“é©±åŠ¨ï¼Œæ¨¡æ‹Ÿç”Ÿæˆå®¢æˆ·ç«¯ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯ç½‘é¡µï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªæµè§ˆå™¨ï¼Œä½†æ˜¯æ„Ÿå®˜ä¸Šå’Œæœ¬åœ°å®¢æˆ·ç«¯æ²¡æœ‰å·®åˆ«ã€‚

é‚£ä¹ˆï¼ŒåŸºäº pywebview æ„æ¶æ„å»ºå®¢æˆ·ç«¯çš„æˆè´¥æˆ–è´¨é‡ï¼Œå°±ä¸æœ¬åœ°ç”µè„‘çš„æµè§ˆå™¨å¼•æ“æ¯æ¯ç›¸å…³äº†ã€‚

#### windows ç³»ç»Ÿ

åœ¨ windows ç³»ç»Ÿä¸Šï¼Œå¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç±»å®¢æˆ·ç«¯å¼•æ“ï¼šæ­£å¸¸æ¨¡å¼å’Œå…¼å®¹æ¨¡å¼ã€‚

- æ­£å¸¸æ¨¡å¼

æ­£å¸¸æ¨¡å¼ä¸‹ï¼ŒæŒ‰ç…§ edgechromium ï¼Œedgehtmlï¼Œ mshtml çš„å®¢æˆ·ç«¯å¼•æ“ä¾æ¬¡æ£€ç´¢ã€‚å¦‚æœæœ¬åœ°ç”µè„‘ edge æµè§ˆå™¨æ”¯æŒè¿™äº›å¼•æ“ï¼Œåˆ™å®¢æˆ·ç«¯å¯ä»¥æ­£å¸¸å¯åŠ¨ã€‚å¦åˆ™ï¼Œè¯·å®‰è£…å¯¹åº”çš„ [EdgeWebView2Runtime](https://developer.microsoft.com/en-us/microsoft-edge/webview2/) æµè§ˆå™¨å¼•æ“ã€‚

- å…¼å®¹æ¨¡å¼

å¦‚æœæœ¬åœ°ç”µè„‘ edge æµè§ˆå™¨ä¸æ”¯æŒè¿™äº›å¼•æ“ï¼ŒåŒæ—¶ä¹Ÿä¸æƒ³ä¸‹è½½ [EdgeWebView2Runtime](https://developer.microsoft.com/en-us/microsoft-edge/webview2/) ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å…¼å®¹æ¨¡å¼ã€‚å…¼å®¹æ¨¡å¼çš„åŸç†å°±æ˜¯åˆ©ç”¨ [CEFPython](https://github.com/cztomczak/cefpython)ï¼ŒåµŒå…¥ Chromium çš„ Web æµè§ˆå™¨æ§ä»¶ã€‚ä¹Ÿå°±æ˜¯åªè¦æœ¬åœ°ç”µè„‘å®‰è£…äº†è°·æ­Œæµè§ˆå™¨ V66 ç‰ˆåŠå…¶ä»¥ä¸Šç‰ˆæœ¬ï¼Œå³å¯æ­£å¸¸å¯åŠ¨å®¢æˆ·ç«¯ã€‚ç¼ºç‚¹å°±æ˜¯ç”Ÿæˆçš„å®‰è£…åŒ…ä½“ç§¯ä¼šå¢åŠ å¤§çº¦ 60M å·¦å³ã€‚

#### macOS ç³»ç»Ÿ

macOS ç³»ç»Ÿçš„æµè§ˆå™¨å¼•æ“ç”±äº macOS ç³»ç»Ÿçš„å°é—­æ€§ï¼Œå°±åªæœ‰ä¸€ç§ WebKit å¼•æ“å¯ç”¨ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMacOsåœ¨mç³»åˆ—èŠ¯ç‰‡å’Œx86èŠ¯ç‰‡ä¸‹æ— æ³•å…±ç”¨åŒä¸€ä¸ªå®‰è£…åŒ…ï¼Œæ‰€ä»¥éœ€è¦åˆ†åˆ«æ‰“åŒ…ã€‚

### åŸŸé—´é€šä¿¡

#### ä» Python è°ƒç”¨ Javascript

window.evaluate_js(code, callback=None)å…è®¸æ‚¨ä½¿ç”¨åŒæ­¥è¿”å›çš„æœ€åä¸€ä¸ªå€¼æ‰§è¡Œä»»æ„ Javascript ä»£ç ã€‚å¦‚æœæä¾›äº†å›è°ƒå‡½æ•°ï¼Œåˆ™è§£æ promiseï¼Œå¹¶è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œç»“æœä½œä¸ºå‚æ•°ã€‚Javascript ç±»å‹è½¬æ¢ä¸º Python ç±»å‹ï¼Œä¾‹å¦‚ JS å¯¹è±¡åˆ° Python å­—å…¸ï¼Œæ•°ç»„åˆ°åˆ—è¡¨ï¼Œæœªå®šä¹‰ä¸º Noneã€‚ç”±äºå®ç°é™åˆ¶ï¼Œå­—ç¬¦ä¸²â€œnullâ€å°†è¢«è®¡ç®—ä¸º Noneã€‚å¦å¤–ï¼Œevaluate_js è¿”å›çš„å€¼é™åˆ¶ä¸º 900 ä¸ªå­—ç¬¦å†…ã€‚

#### ä» Javascript è°ƒç”¨ Python

ä» Javascript è°ƒç”¨ Python å‡½æ•°å¯ä»¥é€šè¿‡ä¸¤ç§ä¸åŒçš„æ–¹æ³•å®Œæˆã€‚

- é€šè¿‡å°† Python ç±»çš„å®ä¾‹æš´éœ²ç»™ create_window çš„ js_apiã€‚è¯¥ç±»çš„æ‰€æœ‰å¯è°ƒç”¨æ–¹æ³•éƒ½å°†ä»¥ pywebview.api.method_name çš„å½¢å¼å…¬å¼€åˆ° JS åŸŸä¸­ã€‚æ–¹æ³•åç§°ä¸å¾—ä»¥ä¸‹åˆ’çº¿å¼€å¤´ã€‚
- é€šè¿‡å°†å‡½æ•°ä¼ é€’ç»™çª—å£å¯¹è±¡çš„ expose(func)è¿™å°†ä»¥ pywebview.api.func_name çš„å½¢å¼å°†ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°å…¬å¼€åˆ° JS åŸŸã€‚ä¸ JS API ä¸åŒï¼Œexpose ä¹Ÿå…è®¸åœ¨è¿è¡Œæ—¶å…¬å¼€å‡½æ•°ã€‚å¦‚æœ JS API å’Œä»¥è¿™ç§æ–¹å¼å…¬å¼€çš„å‡½æ•°ä¹‹é—´å­˜åœ¨åç§°å†²çªï¼Œåˆ™åè€…ä¼˜å…ˆã€‚

### çƒ­æ›´æ–°

- ä½¿ç”¨ npm-run-all å¹¶è¡Œå¯ç”¨ vite(è‡ªå¸¦çƒ­æ›´æ–°) å’Œ pywebview
- ä½¿ç”¨ nodemon ç›‘å¬ `api/*` `core/*` `main.py` ç­‰æ–‡ä»¶ï¼Œæœ‰ä¿®æ”¹è‡ªåŠ¨é‡å¯åº”ç”¨ï¼Œè¾¾åˆ° HRM æ•ˆæœ

### æ³¨æ„é—®é¢˜

- åœ¨ windows ç³»ç»Ÿä¸‹ï¼Œåªèƒ½æ‰“åŒ… exe ç­‰é€‚ç”¨äº windows çš„ç¨‹åºï¼Œä¸èƒ½æ‰“åŒ… mac ç³»ç»Ÿä¸‹çš„ app ç¨‹åºã€‚åŒç†ï¼Œmac ä¹Ÿæ˜¯ä¸€æ ·ã€‚
- åœ¨ windows ç³»ç»Ÿä¸‹ï¼Œè¯·ä¸è¦ä½¿ç”¨ä¸­æ–‡è·¯å¾„ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç° cannot call null pointer pointer from cdata 'int(_)(void _, int)' ç­‰é”™è¯¯ä¿¡æ¯ã€‚mac ç³»ç»Ÿæ— æ­¤é—®é¢˜ã€‚
- static é™æ€æ–‡ä»¶å¤¹ï¼Œå¯ä»¥å­˜æ”¾ cache ç¼“å­˜ã€db æ•°æ®åº“ç­‰ï¼Œè¿™äº›æ–‡ä»¶éƒ½å°†è¢«ç›´æ¥æ‰“åŒ…åˆ°ç¨‹åºåŒ…ä¸­

